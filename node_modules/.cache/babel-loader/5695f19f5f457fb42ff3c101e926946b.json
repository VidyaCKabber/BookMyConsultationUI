{"ast":null,"code":"var _jsxFileName = \"/Users/vikabber/Desktop/Projects/Projects/BookMyConsultationUI/src/screens/login/Login.js\";\nimport React, { useState } from 'react';\nimport { Modal, FormControl, InputLabel, Input, Button } from '@material-ui/core';\nimport './Login.css';\nconst Login = ({\n  onLogin\n}) => {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [emailError, setEmailError] = useState('');\n  const [passwordError, setPasswordError] = useState('');\n  const handleLogin = async () => {\n    // Reset errors\n    setEmailError('');\n    setPasswordError('');\n\n    // Basic validation\n    if (!email) {\n      setEmailError('Please fill out this field');\n      return;\n    }\n    if (!password) {\n      setPasswordError('Please fill out this field');\n      return;\n    }\n    try {\n      // // Make API call to login endpoint\n      // const response = await fetch('http://localhost:8080/auth/login', {\n      //     method: 'POST',\n      //     headers: {\n      //         'Content-Type': 'application/json'\n      //     },\n      //     body: JSON.stringify({ email, password })\n      // });\n      // alert(password)\n      // if (!response.ok) {\n      //     setPasswordError('Login failed');\n      // }\n\n      // const data = await response.json();\n\n      // // Store accessToken in localStorage or sessionStorage\n      // localStorage.setItem('accessToken', data.accessToken);\n\n      // // Call the onLogin function with the accessToken\n      // onLogin(data.accessToken);\n      // alert(data.accessToken)\n\n      const signInData = {\n        username: email,\n        password: password\n      };\n      const response = await fetch('http://localhost:8080/auth/login', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(signInData)\n      });\n      alert(response.json());\n      if (!response.ok) {\n        setPasswordError('Failed to sign in');\n      }\n    } catch (error) {\n      console.error('Login failed:', error);\n      // Handle login failure, show error message, etc.\n    }\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"login-modal\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(FormControl, {\n    fullWidth: true,\n    margin: \"normal\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(InputLabel, {\n    htmlFor: \"email\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 17\n    }\n  }, \"Email *\"), /*#__PURE__*/React.createElement(Input, {\n    id: \"email\",\n    type: \"email\",\n    value: email,\n    onChange: e => setEmail(e.target.value),\n    error: !!emailError,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"error\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 17\n    }\n  }, emailError)), /*#__PURE__*/React.createElement(FormControl, {\n    fullWidth: true,\n    margin: \"normal\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(InputLabel, {\n    htmlFor: \"password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 17\n    }\n  }, \"Password *\"), /*#__PURE__*/React.createElement(Input, {\n    id: \"password\",\n    type: \"password\",\n    value: password,\n    onChange: e => setPassword(e.target.value),\n    error: !!passwordError,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"error\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 17\n    }\n  }, passwordError)), /*#__PURE__*/React.createElement(Button, {\n    variant: \"contained\",\n    color: \"primary\",\n    style: {\n      margin: 'auto',\n      display: 'block'\n    },\n    onClick: handleLogin,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 13\n    }\n  }, \"LOGIN\"));\n};\nexport default Login;","map":{"version":3,"names":["React","useState","Modal","FormControl","InputLabel","Input","Button","Login","onLogin","email","setEmail","password","setPassword","emailError","setEmailError","passwordError","setPasswordError","handleLogin","signInData","username","response","fetch","method","headers","body","JSON","stringify","alert","json","ok","error","console","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","fullWidth","margin","htmlFor","id","type","value","onChange","e","target","variant","color","style","display","onClick"],"sources":["/Users/vikabber/Desktop/Projects/Projects/BookMyConsultationUI/src/screens/login/Login.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { Modal, FormControl, InputLabel, Input, Button } from '@material-ui/core';\nimport './Login.css';\n\nconst Login = ({ onLogin }) => {\n    const [email, setEmail] = useState('');\n    const [password, setPassword] = useState('');\n    const [emailError, setEmailError] = useState('');\n    const [passwordError, setPasswordError] = useState('');\n\n    const handleLogin = async () => {\n        // Reset errors\n        setEmailError('');\n        setPasswordError('');\n\n        // Basic validation\n        if (!email) {\n            setEmailError('Please fill out this field');\n            return;\n        }\n        if (!password) {\n            setPasswordError('Please fill out this field');\n            return;\n        }\n\n        try {\n            // // Make API call to login endpoint\n            // const response = await fetch('http://localhost:8080/auth/login', {\n            //     method: 'POST',\n            //     headers: {\n            //         'Content-Type': 'application/json'\n            //     },\n            //     body: JSON.stringify({ email, password })\n            // });\n            // alert(password)\n            // if (!response.ok) {\n            //     setPasswordError('Login failed');\n            // }\n\n            // const data = await response.json();\n\n            // // Store accessToken in localStorage or sessionStorage\n            // localStorage.setItem('accessToken', data.accessToken);\n\n            // // Call the onLogin function with the accessToken\n            // onLogin(data.accessToken);\n            // alert(data.accessToken)\n\n            const signInData = {\n                username: email,\n                password: password,\n              };\n        \n              const response = await fetch('http://localhost:8080/auth/login', {\n                method: 'POST',\n                headers: {\n                  'Content-Type': 'application/json',\n                },\n                body: JSON.stringify(signInData),\n              });\n              alert(response.json())\n              if (!response.ok) {\n                setPasswordError('Failed to sign in');\n              }\n        } catch (error) {\n            console.error('Login failed:', error);\n            // Handle login failure, show error message, etc.\n        }\n    };\n\n    return (\n        <div className=\"login-modal\">\n            <FormControl fullWidth margin=\"normal\">\n                <InputLabel htmlFor=\"email\">Email *</InputLabel>\n                <Input\n                    id=\"email\"\n                    type=\"email\"\n                    value={email}\n                    onChange={(e) => setEmail(e.target.value)}\n                    error={!!emailError}\n                />\n                <span className=\"error\">{emailError}</span>\n            </FormControl>\n            <FormControl fullWidth margin=\"normal\">\n                <InputLabel htmlFor=\"password\">Password *</InputLabel>\n                <Input\n                    id=\"password\"\n                    type=\"password\"\n                    value={password}\n                    onChange={(e) => setPassword(e.target.value)}\n                    error={!!passwordError}\n                />\n                <span className=\"error\">{passwordError}</span>\n            </FormControl>\n            <Button variant=\"contained\" color=\"primary\" style={{ margin: 'auto', display: 'block' }} onClick={handleLogin}>\n                LOGIN\n            </Button>\n        </div>\n    );\n}\n\nexport default Login;\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,SAASC,KAAK,EAAEC,WAAW,EAAEC,UAAU,EAAEC,KAAK,EAAEC,MAAM,QAAQ,mBAAmB;AACjF,OAAO,aAAa;AAEpB,MAAMC,KAAK,GAAGA,CAAC;EAAEC;AAAQ,CAAC,KAAK;EAC3B,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGT,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAACU,QAAQ,EAAEC,WAAW,CAAC,GAAGX,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACY,UAAU,EAAEC,aAAa,CAAC,GAAGb,QAAQ,CAAC,EAAE,CAAC;EAChD,MAAM,CAACc,aAAa,EAAEC,gBAAgB,CAAC,GAAGf,QAAQ,CAAC,EAAE,CAAC;EAEtD,MAAMgB,WAAW,GAAG,MAAAA,CAAA,KAAY;IAC5B;IACAH,aAAa,CAAC,EAAE,CAAC;IACjBE,gBAAgB,CAAC,EAAE,CAAC;;IAEpB;IACA,IAAI,CAACP,KAAK,EAAE;MACRK,aAAa,CAAC,4BAA4B,CAAC;MAC3C;IACJ;IACA,IAAI,CAACH,QAAQ,EAAE;MACXK,gBAAgB,CAAC,4BAA4B,CAAC;MAC9C;IACJ;IAEA,IAAI;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;;MAEA;;MAEA;MACA;;MAEA;MACA;MACA;;MAEA,MAAME,UAAU,GAAG;QACfC,QAAQ,EAAEV,KAAK;QACfE,QAAQ,EAAEA;MACZ,CAAC;MAED,MAAMS,QAAQ,GAAG,MAAMC,KAAK,CAAC,kCAAkC,EAAE;QAC/DC,MAAM,EAAE,MAAM;QACdC,OAAO,EAAE;UACP,cAAc,EAAE;QAClB,CAAC;QACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACR,UAAU;MACjC,CAAC,CAAC;MACFS,KAAK,CAACP,QAAQ,CAACQ,IAAI,CAAC,CAAC,CAAC;MACtB,IAAI,CAACR,QAAQ,CAACS,EAAE,EAAE;QAChBb,gBAAgB,CAAC,mBAAmB,CAAC;MACvC;IACN,CAAC,CAAC,OAAOc,KAAK,EAAE;MACZC,OAAO,CAACD,KAAK,CAAC,eAAe,EAAEA,KAAK,CAAC;MACrC;IACJ;EACJ,CAAC;EAED,oBACI9B,KAAA,CAAAgC,aAAA;IAAKC,SAAS,EAAC,aAAa;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACxBvC,KAAA,CAAAgC,aAAA,CAAC7B,WAAW;IAACqC,SAAS;IAACC,MAAM,EAAC,QAAQ;IAAAP,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBAClCvC,KAAA,CAAAgC,aAAA,CAAC5B,UAAU;IAACsC,OAAO,EAAC,OAAO;IAAAR,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAC,SAAmB,CAAC,eAChDvC,KAAA,CAAAgC,aAAA,CAAC3B,KAAK;IACFsC,EAAE,EAAC,OAAO;IACVC,IAAI,EAAC,OAAO;IACZC,KAAK,EAAEpC,KAAM;IACbqC,QAAQ,EAAGC,CAAC,IAAKrC,QAAQ,CAACqC,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE;IAC1Cf,KAAK,EAAE,CAAC,CAACjB,UAAW;IAAAqB,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CACvB,CAAC,eACFvC,KAAA,CAAAgC,aAAA;IAAMC,SAAS,EAAC,OAAO;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAE1B,UAAiB,CACjC,CAAC,eACdb,KAAA,CAAAgC,aAAA,CAAC7B,WAAW;IAACqC,SAAS;IAACC,MAAM,EAAC,QAAQ;IAAAP,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBAClCvC,KAAA,CAAAgC,aAAA,CAAC5B,UAAU;IAACsC,OAAO,EAAC,UAAU;IAAAR,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAC,YAAsB,CAAC,eACtDvC,KAAA,CAAAgC,aAAA,CAAC3B,KAAK;IACFsC,EAAE,EAAC,UAAU;IACbC,IAAI,EAAC,UAAU;IACfC,KAAK,EAAElC,QAAS;IAChBmC,QAAQ,EAAGC,CAAC,IAAKnC,WAAW,CAACmC,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE;IAC7Cf,KAAK,EAAE,CAAC,CAACf,aAAc;IAAAmB,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAC1B,CAAC,eACFvC,KAAA,CAAAgC,aAAA;IAAMC,SAAS,EAAC,OAAO;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAExB,aAAoB,CACpC,CAAC,eACdf,KAAA,CAAAgC,aAAA,CAAC1B,MAAM;IAAC2C,OAAO,EAAC,WAAW;IAACC,KAAK,EAAC,SAAS;IAACC,KAAK,EAAE;MAAEV,MAAM,EAAE,MAAM;MAAEW,OAAO,EAAE;IAAQ,CAAE;IAACC,OAAO,EAAEpC,WAAY;IAAAiB,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAC,OAEvG,CACP,CAAC;AAEd,CAAC;AAED,eAAehC,KAAK"},"metadata":{},"sourceType":"module"}